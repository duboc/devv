<!-- Tabs Container -->
<div class="tabs-container">
    <div class="tabs">
        <div class="tab active" data-tab="configure">
            <i class="fas fa-cog"></i>
            <span>Configure</span>
        </div>
        <div class="tab" data-tab="generate">
            <i class="fas fa-magic"></i>
            <span>Generate</span>
        </div>
        <div class="tab" data-tab="results">
            <i class="fas fa-chart-bar"></i>
            <span>Results</span>
        </div>
    </div>
</div>

<!-- Content -->
<div class="content">
    <!-- Configure Tab -->
    <div id="tab-configure" class="tab-content active">
        <div class="grid grid-3">
            <!-- Left Column - Use Cases -->
            <div class="column-left">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-rocket"></i> Select Your Use Case</h3>
                    </div>
                    <div class="card-body">
                        <form id="config-form">
                            <div class="form-group">
                                <label class="form-label">Choose what you want to build:</label>
                                <div class="use-case-grid-vertical">
                                    {% for use_case in use_cases %}
                                    <div class="use-case-card">
                                        <input type="radio" id="{{ use_case.replace(' ', '_').lower() }}" name="use_case" value="{{ use_case }}" {% if loop.first %}checked{% endif %}>
                                        <label for="{{ use_case.replace(' ', '_').lower() }}" class="use-case-label-compact">
                                            <div class="use-case-icon-small">
                                                {% if use_case == "Sprint Planning" %}
                                                    <i class="fas fa-tasks"></i>
                                                {% elif use_case == "Random Jokes Website" %}
                                                    <i class="fas fa-laugh"></i>
                                                {% elif use_case == "Test Plan Generation" %}
                                                    <i class="fas fa-vial"></i>
                                                {% else %}
                                                    <i class="fas fa-palette"></i>
                                                {% endif %}
                                            </div>
                                            <span class="use-case-title-small">{{ use_case }}</span>
                                        </label>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Description:</label>
                                <div class="description-card">
                                    <textarea id="use_case_description" class="description-text" readonly></textarea>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Center Column - Image -->
            <div class="column-center">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-image"></i> Image Analysis</h3>
                    </div>
                    <div class="card-body image-centered">
                        <div class="image-section-centered">
                            <div id="default_image_section" class="image-container-centered">
                                <div class="image-wrapper-centered">
                                    <img id="default_image" class="analysis-image-centered">
                                    <div class="image-overlay">
                                        <span class="image-label">Ready for analysis</span>
                                    </div>
                                </div>
                                <div class="image-info" style="display: none;">
                                    <p id="image_source_text" class="image-source"></p>
                                </div>
                            </div>

                            <div id="upload_section" class="upload-container" style="display: none;">
                                <div class="upload-area">
                                    <input type="file" id="image_upload" name="image_upload" accept="image/*" class="file-input">
                                    <label for="image_upload" class="upload-label">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                        <span>Click to upload your image</span>
                                        <small>Supports PNG, JPG, JPEG</small>
                                    </label>
                                </div>
                                <div id="image_preview" class="image-container-centered" style="display: none;">
                                    <div class="image-wrapper-centered">
                                        <img id="preview_img" class="analysis-image-centered">
                                        <div class="image-overlay">
                                            <span class="image-label">Ready for analysis</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="custom_prompt_section" class="form-group" style="display: none;">
                                <label for="custom_prompt" class="form-label">Custom Analysis Prompt:</label>
                                <textarea id="custom_prompt" name="custom_prompt" class="textarea-field" placeholder="Describe what you want to analyze in this image..."></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column - Settings -->
            <div class="column-right">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-cog"></i> Generation Settings</h3>
                    </div>
                    <div class="card-body">
                        <div class="settings-vertical">
                            <div class="setting-group">
                                <label class="form-label">AI Model:</label>
                                <div class="radio-group vertical">
                                    {% for model in models %}
                                    <div class="radio-item">
                                        <input type="radio" id="{{ model }}" name="model_name" value="{{ model }}" {% if loop.first %}checked{% endif %}>
                                        <label for="{{ model }}">{{ model.replace('gemini-', '').replace('-', ' ').title() }}</label>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>

                            <div class="setting-group">
                                <label class="form-label">Language:</label>
                                <div class="radio-group vertical">
                                    {% for lang in languages %}
                                    <div class="radio-item">
                                        <input type="radio" id="{{ lang }}" name="story_lang" value="{{ lang }}" {% if loop.first %}checked{% endif %}>
                                        <label for="{{ lang }}">{{ lang }}</label>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Generate Tab -->
    <div id="tab-generate" class="tab-content">
        <div class="grid grid-1">
            <div class="card">
                <div class="card-header" style="display: flex; justify-content: space-between; align-items: center;">
                    <h3><i class="fas fa-magic"></i> Generation Workflow</h3>
                    <i id="clear_all_btn" class="fas fa-trash clear-icon" title="Clear All and Restart"></i>
                </div>
                <div class="card-body button-group" id="generation_buttons">
                    <!-- Buttons will be dynamically generated based on use case -->
                </div>
            </div>
        </div>
    </div>

    <!-- Results Tab -->
    <div id="tab-results" class="tab-content">
        <div class="grid grid-1">
            <div class="card">
                <div class="card-header">
                    <h3><i class="fas fa-chart-bar"></i> Generated Results</h3>
                </div>
                <div class="card-body">
                    <div id="results-container">
                        <p style="text-align: center; color: var(--text-secondary); font-style: italic;">
                            Generated content will appear here...
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
